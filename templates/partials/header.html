<!-- Top Header -->
<header class="top-header">
    <div class="header-left">
        <button class="menu-toggle" id="menuToggle">
            <i class="fas fa-bars"></i>
        </button>
        <a href="/" class="brand-logo" style="text-decoration: none; color: inherit; cursor: pointer;">
            <i class="fas fa-home"></i>
            <span>Roomies</span>
        </a>
    </div>
    <div class="header-search">
        <input type="text" id="globalSearch" placeholder="Search rooms, locations, colleges...">
        <button class="search-btn">
            <i class="fas fa-search"></i>
        </button>
    </div>
    <div class="header-right">
        <a href="/pricing" class="header-btn" title="View Pricing Plans">
            <i class="fas fa-tags"></i>
            <span>Pricing</span>
        </a>
        {% if current_user.is_authenticated %}
        <a href="/verify" class="header-btn verify-btn" title="Get Verified">
            <i class="fas fa-id-card"></i>
            <span>Verify</span>
        </a>
        {% endif %}
        <a href="/admin/verifications" class="header-btn admin-btn" title="Admin Panel">
            <i class="fas fa-shield-alt"></i>
            <span>Admin</span>
        </a>
        {% if current_user.is_authenticated %}
        <div class="user-dropdown-container">
            <div class="user-avatar" id="userMenuBtn" title="{{ current_user.name }}">
                {% if current_user.profile_image %}
                <img src="{{ url_for('static', filename=current_user.profile_image) }}" alt="{{ current_user.name }}">
                {% else %}
                {{ current_user.name[0].upper() }}
                {% endif %}
            </div>
            <!-- Dropdown Menu -->
            <div class="dropdown-menu" id="userDropdown">
                <div class="dropdown-header">
                    <div class="dropdown-user-info">
                        <p class="dropdown-user-name">{{ current_user.name }}</p>
                        <p class="dropdown-user-email">{{ current_user.email }}</p>
                    </div>
                </div>
                {% if current_user.role == 'student' %}
                <a href="/dashboard" class="dropdown-item">
                    <i class="fas fa-columns"></i> Dashboard
                </a>
                <a href="/ai-matching" class="dropdown-item">
                    <i class="fas fa-magic"></i> AI Match
                </a>
                {% endif %}
                {% if current_user.role == 'owner' %}
                <a href="/list-room" class="dropdown-item">
                    <i class="fas fa-plus-circle"></i> List Room
                </a>
                <a href="/owner/dashboard" class="dropdown-item">
                    <i class="fas fa-chart-line"></i> Dashboard
                </a>
                {% endif %}
                <a href="/settings" class="dropdown-item">
                    <i class="fas fa-cog"></i> Settings
                </a>
                <div class="dropdown-divider"></div>
                <a href="/logout" class="dropdown-item text-danger">
                    <i class="fas fa-sign-out-alt"></i> Sign Out
                </a>
            </div>
        </div>
        {% else %}
        <a href="/login" class="header-btn">
            <i class="fas fa-user-circle"></i>
            Sign In
        </a>
        {% endif %}
    </div>
</header>

<!-- Voice Search Button (floating) -->
<button id="voiceSearchBtn" title="Voice Search">
    <i class="fas fa-microphone"></i>
</button>

<!-- PWA Install Button (hidden by default) -->
<button id="pwaInstallBtn" style="display: none;">
    <i class="fas fa-download"></i> Install App
</button>